<!DOCTYPE html>
{% load staticfiles %}
<html lang="en">

<head>

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<meta name="author" content="">

	<title>SB Admin - Bootstrap Admin Template</title>

	<!-- Bootstrap Core CSS -->
	<link rel="stylesheet" type="text/css" href="{% static "vfd_app/css/bootstrap.min.css" %}">
	<link rel="stylesheep" type="text/css" href="{% static "vfd_app/css/bootstrap-rtl.min.css" %}">
	<link rel="stylesheet" type="text/css" href="{% static "vfd_app/css/sb-admin.css" %}">
	<link rel="stylesheet" type="text/css" href="{% static "vfd_app/css/sb-admin-rtl.css" %}">
	<link rel="stylesheet" type="text/css" href="{% static "vfd_app/css/plugins/morris.css" %}">
	<link rel="stylesheet" type="text/css" href="{% static "vfd_app/css/plugins/font-awesome.min.cs" %}">
	<script src= "http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>

	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
		<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
	<![endif]-->

</head>

<body>
	<div id="wrapper">
		<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
			<div class="navbar-header">
				<a class="navbar-brand" href="/">Home</a>
				<a class="navbar-brand" href="/clients">Clients</a>
				<!-- <a class="navbar-brand" href="/vfd_app">VFD App</a>
				<a class="navbar-brand" href="/premium_efficiency_app">Premium Efficiency App</a>
				<a class="navbar-brand" href="/chiller_app">Chiller App</a> -->
			</div>
		</nav>
	</div>
	<div id="page-wrapper">
		<div class="container-fluid">
			<div class="row">
				<div class="col-lg-12">
					<div ng-app="">
						<p>Input something in the input box:</p>
						<p>Name: <input type="text" ng-model="name"></p>
						<p ng-bind="name"></p>
					</div>
					<h1 class="page-header">
						Clients List
					</h1>
					<p>
						<button type="button" class="btn btn-success btn-sm col-sm-2" data-toggle="modal" data-target="#add_new_client">+ Client</button>
					</p>
				</div>
				{% if clients_list %}
					<div class="container-fluid">
						<table class="table table-striped">
							<tr>
								<th>Client Name</th>
								<th>Country</th>
								<th>Customer Site</th>
								<th>Start Date</th>
							</tr>
							{% for id, client_name, country, customer_site, start_date in clients_list %}
							<tr>
								<td><a href="/client/details/{{id}}/">{{client_name}}</td>
								<td>{{country}}</td>
								<td>{{customer_site}}</td>
								<td>{{start_date}}</td>
							</tr>
							{% endfor %}
						</table>
					</div>
				{% endif%}
			</div>
		</div>
	</div>

	<div class="modal fade" id="add_new_client" role="dialog">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">Add New Client</h4>
				</div>
				<form class="form-horizontal" action="/client/details/add/" method="post" name="save_client_details">
				{% csrf_token %}
					<div class="container-fluid">
						<div class="form-group form-group-sm">
						  <label class="col-sm-4 control-label">Client Name</label>
						  <div class="col-sm-4">
							<input class="form-control" type="text" onchange="set_save_client()" name="client_name" value="{{client_name}}">
						  </div>
						</div>
						<div class="form-group form-group-sm">
						  <label class="col-sm-4 control-label">Country</label>
						  <div class="col-sm-6">
							  <select onchange="set_save_client()" name="country" class="col-sm-6">
								{% for id, name in country_dict %}
								   <option {% if id == 'US' %} selected {% endif %} value="{{id}}">{{ name }}</option>
								{% endfor %}
							  </select>
						  </div>
						</div>
						<div class="form-group form-group-sm">
						  <label class="col-sm-4 control-label">Site Location</label>
						  <div class="col-sm-4">
							<input class="form-control" type="text" onchange="set_save_client()" name="customer_site" value="{{customer_site}}">
						  </div>
						</div>
					</div>
					<input id="save_client_app" name="save_client_app" type="text" value="0" hidden/>
					<input type="submit" value="Save" class="btn btn-default">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</form>
			</div>
		</div>
	</div>

	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<!-- Include all compiled plugins (below), or include individual files as needed -->
	<script src="{% static "vfd_app/js/bootstrap.min.js" %}"></script>
	<script src="{% static "vfd_app/js/raphael.min.js" %}"></script>
	<script src="{% static "vfd_app/js/morris.min.js" %}"></script>
	<script src="{% static "vfd_app/js/morris-data.js" %}"></script>
	<script type="text/javascript">
	  function set_save_client() {
		element = document.getElementById('save_client_app');
		element.value = '1';
	  }
	</script>
</body>

</html>
